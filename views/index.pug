extends layout.pug

block contentSection
	section.tasks
					.container
						.row
							.col
								h1.tasks__header #{username}'s tasks
								table.tasks-table.table.table-striped
									thead.thead-dark
										tr
											th.col-1 #
											th.col-5 Name
											th.col-2 Priority
											th.col-2 Status
											th.col-1
											th.col-1
									tbody
										each task, i in tasks
											tr
												th.col-1= i+1
												td.col-5= task.name
												td.col-2= task.priority
												td.col-2= task.status
												td.col-1
													a.tasks__edit-mark(href=`./edit/${task._id}`)
														i.fas.fa-edit
												td.col-1
													a(id=`${task._id}` href="").tasks__delete-mark
														i.fas.fa-trash
	section.new-task
		.container
			form.new-task__form(action="/api/tasks" method="post")
				h1.new-task__inviter Add new task
				div.form-row
					div.form-group.col-md-1.col-sm-12
					div.form-group.col-md-6.col-sm-12
						label(for="inputNewTaskName") Name
						input#inputNewTaskName.form-control(name="name" type="text" placeholder="New task name")
					div.form-group.col-md-2.col-sm-12
						label(for="inputNewTaskPriority") Priority
						select#inputNewTaskPriority.form-control(name="priority")
							option Trivial
							option Major
							option Blocker
					div.form-group.col-md-2.col-sm-12
						label(for="inputNewTaskStatus") Status
						select#inputNewTaskStatus.form-control(name="status")
							option w8ing
							option in Progress
							option Done
					div.form-group.col-md-1.col-sm-12
						label.new-task__add-mark(for="addBtn")
							svg(aria-hidden="true" data-prefix="fas" data-icon="plus-circle" class="svg-inline--fa fa-plus-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512").new-task__icon
								path(fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z")
							button#addBtn.new-task__add-btn(type="add")
block scripts
	script(src="/javascripts/deleteTaskById.js")
//- <!DOCTYPE html>
//- html(lang="en")
	head
		meta(charset="UTF-8")
		meta(name="viewport", content="width=device-width, initial-scale=1.0")
		meta(http-equiv="X-UA-Compatible", content="ie=edge")
		link(rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous")
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
		link(rel="stylesheet", href="/stylesheets/main.css")
		title= username
	body
		.wrapper
			.content
				header.header.navbar.navbar-expand-lg.navbar-dark.bg-dark
					.container
						.header__greeter
							.header__header-txt.text-light= `Привет, ${username}!`
						.header__logout-btn
							a.header__link(href="") LogOut
				section.tasks
					.container
						.row
							.col
								h1.tasks__header #{username}'s tasks
								table.tasks-table.table.table-striped
									thead.thead-dark
										tr
											th.col-1 #
											th.col-5 Name
											th.col-2 Priority
											th.col-2 Status
											th.col-1
											th.col-1
									tbody
										each task, i in tasks
											tr
												th.col-1= i+1
												td.col-5= task.name
												td.col-2= task.priority
												td.col-2= task.status
												td.col-1
													a.tasks__edit-mark(href=`./edit/${task._id}`)
														i.fas.fa-edit
												td.col-1
													a(id=`${task._id}` href="").tasks__delete-mark
														i.fas.fa-trash
				section.new-task
					.container
						form.new-task__form(action="/api/tasks" method="post")
							h1.new-task__inviter Add new task
							div.form-row
								div.form-group.col-md-1.col-sm-12
								div.form-group.col-md-6.col-sm-12
									label(for="inputNewTaskName") Name
									input#inputNewTaskName.form-control(name="name" type="text" placeholder="New task name")
								div.form-group.col-md-2.col-sm-12
									label(for="inputNewTaskPriority") Priority
									select#inputNewTaskPriority.form-control(name="priority")
										option Trivial
										option Major
										option Blocker
								div.form-group.col-md-2.col-sm-12
									label(for="inputNewTaskStatus") Status
									select#inputNewTaskStatus.form-control(name="status")
										option w8ing
										option in Progress
										option Done
								div.form-group.col-md-1.col-sm-12
									label.new-task__add-mark(for="addBtn")
										svg(aria-hidden="true" data-prefix="fas" data-icon="plus-circle" class="svg-inline--fa fa-plus-circle fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512").new-task__icon
											path(fill="currentColor" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z")
										button#addBtn.new-task__add-btn(type="add")
		footer.footer.navbar.navbar-expand-lg.navbar-dark.bg-dark
			.container
				.row
					.col
						.footer__footer-txt.text-light AllMax test task
		script(src="/javascripts/deleteTaskById.js")